## 7 практическая

**Кратко:**
Архитектура приложения, Repository pattern, интерфейсы и Dependency Injection с использованием Koin.

Суть задания:

#### 1 — Зачем вообще нужна архитектура

Главная цель - разделить логику работы с сетью, ui, бизнс логику, логику фичей приложения так, чтобы изменение одной из них не аффектило на другие 

Мы добиваемся низкой связности кода, жертвуя количеством файлов (их становится гораздо больше), временем построения и продумывания архитектуры.

Если городить все в одну кучу, то ни одна нейронка не сможет считать весь контекст проекта. Если же каждая единица атомарна, то и менять ее проще

#### 2 — Выделение Repository

Необходимо создать слой для Repository, который будет отвечать за получение данных. Repository становится единственным местом, где UI может запросить данные.

Repository:

* знает, откуда брать данные (сеть)
* скрывает детали реализации
* предоставляет простой и понятный интерфейс

Сетевой код, созданный ранее, должен быть перенесён внутрь Repository.

#### 3 — Интерфейсы и разделение ответственности

Для Repository необходимо создать интерфейс. UI и другие части приложения должны работать **только с интерфейсом**, а не с конкретной реализацией.

Таким образом:

* Activity не знает, как именно получаются данные
* реализацию можно заменить без изменения UI
* архитектура становится гибкой и тестируемой

Важно: интерфейс описывает *что* мы хотим получить, а реализация — *как*.

#### 4 — Подключение Koin

Для управления зависимостями необходимо подключить Koin.

Koin будет отвечать за:

* создание Repository
* создание сетевых компонентов
* прокидывание зависимостей туда, где они нужны

В проекте создаётся Koin-модуль, в котором описываются все необходимые зависимости. После этого модуль подключается в Application-классе.

Создание объектов вручную через `new` или `constructor` в Activity больше не допускается.

ViewModel должна получать Repository через Koin.

#### 5 — Обновление экрана

Логика обновления UI остаётся простой. После получения данных экран обновляется, View отображает новый список.

Обработка ошибок сети по-прежнему обязательна. Архитектура не отменяет необходимость заботиться о пользователе.

#### 6 — Структура проекта

К этому моменту структура проекта должна включать:

* слой сети
* Repository и его интерфейс
* Koin-модули
* UI (Activity + Adapter)

MVVM, ViewModel и состояние экрана **пока не используются**. Мы готовим почву, но не прыгаем через ступени.

### Критерии приёмки

* Реализован Repository pattern
* Repository используется через интерфейс
* Все зависимости создаются через Koin
* Activity не содержит сетевой логики
* Приложение корректно загружает и отображает данные
* Проект продолжает использовать XML

### Что прикреплять

zip файл, в котором:

* zip проекта
* README.txt с:
  * ссылкой на git-репозиторий
  * кратким описанием архитектуры проекта
  * указанием, какие зависимости подключены через Koin
* Скрин структуры проекта в Android Studio
* Скрин экрана приложения с загруженными данными
