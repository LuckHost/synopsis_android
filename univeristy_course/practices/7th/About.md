## 7 практическая

**Кратко:**
Архитектура приложения, Repository pattern, интерфейсы и Dependency Injection с использованием Koin.

Суть задания:

### 1 — Зачем вообще нужна архитектура

На предыдущей практике вся логика работы с сетью, как правило, находилась рядом с Activity. Это допустимо для знакомства, но плохо масштабируется. Любое усложнение экрана быстро превращает код в нечитаемый.

Цель этой практики — отделить логику получения данных от UI и научиться подключать зависимости корректным способом.

Работа продолжается в том же проекте.

### 2 — Выделение Repository

Необходимо создать слой Repository, который будет отвечать за получение данных. Repository становится единственным местом, где UI может запросить данные.

Repository:

* знает, откуда брать данные (сеть)
* скрывает детали реализации
* предоставляет простой и понятный интерфейс

Сетевой код, созданный ранее, должен быть перенесён внутрь Repository.

### 3 — Интерфейсы и разделение ответственности

Для Repository необходимо создать интерфейс. UI и другие части приложения должны работать **только с интерфейсом**, а не с конкретной реализацией.

Таким образом:

* Activity не знает, как именно получаются данные
* реализацию можно заменить без изменения UI
* архитектура становится гибкой и тестируемой

Важно: интерфейс описывает *что* мы хотим получить, а реализация — *как*.

### 4 — Подключение Koin

Для управления зависимостями необходимо подключить Koin.

Koin будет отвечать за:

* создание Repository
* создание сетевых компонентов
* прокидывание зависимостей туда, где они нужны

В проекте создаётся Koin-модуль, в котором описываются все необходимые зависимости. После этого модуль подключается в Application-классе.

Создание объектов вручную через `new` или `constructor` в Activity больше не допускается.

### 5 — Использование Repository в UI

Activity должна получать Repository через Koin.

Activity больше:

* не создаёт Retrofit
* не знает про API-интерфейсы
* не управляет сетевой логикой

Её задача — запросить данные у Repository и отобразить результат.

### 6 — Обновление экрана

Логика обновления UI остаётся простой. После получения данных экран обновляется, RecyclerView отображает новый список.

Обработка ошибок сети по-прежнему обязательна. Архитектура не отменяет необходимость заботиться о пользователе.

### 7 — Структура проекта

К этому моменту структура проекта должна включать:

* слой сети
* Repository и его интерфейс
* Koin-модули
* UI (Activity + Adapter)

MVVM, ViewModel и состояние экрана **пока не используются**. Мы готовим почву, но не прыгаем через ступени.

### Критерии приёмки

* Реализован Repository pattern
* Repository используется через интерфейс
* Все зависимости создаются через Koin
* Activity не содержит сетевой логики
* Приложение корректно загружает и отображает данные
* Проект продолжает использовать XML

### Что прикреплять

zip файл, в котором:

* zip проекта
* README.txt с:

  * ссылкой на git-репозиторий
  * кратким описанием архитектуры проекта
  * указанием, какие зависимости подключены через Koin
* Скрин структуры проекта в Android Studio
* Скрин экрана приложения с загруженными данными
